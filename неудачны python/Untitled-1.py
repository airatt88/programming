def F(n, m):
    # Если мячи уже собраны в одну чашу, то ничего не нужно делать
    if n == 1 or m == 1:
        return 0

    # Пример расчета для F(n, m) по формуле
    # Нужно будет учитывать вероятность перехода, вероятности направлений и т.д.
    # Здесь будет конкретная логика для вычисления среднего количества шагов

    # В данном примере просто вернем случайную сумму для иллюстрации
    return 1 + (n * m) / 10  # Эту формулу нужно заменить на конкретную логику

def G(N, M):
    total_sum = 0
    for n in range(2, N + 1):
        for m in range(2, M + 1):
            total_sum += F(n, m)
    return total_sum

# Пример вызова функции для G(12, 12)
result = G(12, 12)
print(f"G(12, 12) = {result:.12f}")
